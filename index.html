<!DOCTYPE html>
<html>

<head>
    <script src="https://kit.fontawesome.com/7a940114f5.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tagsinput/0.8.0/bootstrap-tagsinput.min.js"
        integrity="sha512-9UR1ynHntZdqHnwXKTaOm1s6V9fExqejKvg5XMawEMToW4sSw+3jtLrYfZPijvnwnnE8Uol1O9BcAskoxgec+g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="text/javascript" src="https://unpkg.com/youtube-background/jquery.youtube-background.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/shepherd.js/11.2.0/js/shepherd.min.js"
        integrity="sha512-U3ol6Fd79i+gmjM7piIkZVLcdiCCc+FUuKhyjsJblTNdhm0fjUeXByy8pR60oWUhMOx4yBmuyBj0EQyQE/d5JQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/localforage/1.10.0/localforage.min.js"
        integrity="sha512-+BMamP0e7wn39JGL8nKAZ3yAQT2dL5oaXWr4ZYlTGkKOaoXM/Yj7c4oy50Ngz5yoUutAG17flueD4F6QpTlPng=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"
        integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="text/javascript" src="classes/piece.js"></script>
    <script type="text/javascript" src="classes/player.js"></script>
    <script type="text/javascript" src="classes/permission.js"></script>
    <script type="text/javascript" src="classes/background.js"></script>
    <script type="text/javascript" src="classes/area.js"></script>
    <script type="text/javascript" src="classes/party.js"></script>
    <script type="text/javascript" src="classes/scene.js"></script>
    <script type="text/javascript" src="tour.js"></script>
    <script type="text/javascript" src="enums.js"></script>
    <script type="text/javascript" src="index.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"
        integrity="sha512-tS3S5qG0BlhnQROyJXvNjeEM4UpMXHrQfTGmbQ1gKmelCxlSEBUaxhRBj/EFTzpbP4RVSrpEikbmdJobCvhE3g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css"
        integrity="sha512-sMXtMNL1zRzolHYKEujM2AqCLUR9F2C4/05cdbxjjLSRvMQIciEPCQZo++nk7go3BtSuK9kfa/s+a4f4i5pLkw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tagsinput/0.8.0/bootstrap-tagsinput.css"
        integrity="sha512-xmGTNt20S0t62wHLmQec2DauG9T+owP9e6VU8GigI0anN7OXLip9i7IwEhelasml2osdxX71XcYm6BQunTQeQg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shepherd.js/7.1.2/css/shepherd.min.css"
        integrity="sha512-k4DlYDc0mf1H92BOi4i/3VKmE2y5T5CuMAFGepXwYD39pmzeoJ7vIUM57esJkGtDNrWcX0V74cHPB/78415VdQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/tubular@latest/dist/tubular-bundle.min.css" />
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Main Scene -->
    <div id="video" class="video-background">
    </div>
    <canvas id="canvas" style="
        margin: 0;
        padding: 0;
        position: absolute;
        top: 0;
        left: 0;
        background-color: transparent;
        background-image: url(img/bg.png);
        background-position: 0 0; 
        background-repeat: no-repeat;
        background-size: cover;">
    </canvas>
    <!-- Side Menus -->
    <div class="menu-toggle">
        <!-- Invisible area that opens menu on hover -->
    </div>
    <div class="offcanvas offcanvas-start" tabindex="-1" id="main-menu">
        <div class="offcanvas-body">
            <h4><i class="fa-solid fa-chess my-3 me-2"></i>Game Board</h4>
            <div class="form-group mb-3">
                <button id="btn-change-bg" class="btn btn-primary me-2" data-bs-toggle="modal"
                    data-bs-target="#modal-bg">
                    Set Background <i class="fa-regular fa-image"></i></button>
                <!-- </div>
            <div class="form-group mb-3"> -->
                <button id="btn-add-piece" class="btn btn-primary" data-bs-toggle="modal"
                    data-bs-target="#modal-piece">New Game Piece <i class="fa-solid fa-chess-knight"></i></button>
            </div>
            <div class="form-group mb-3">
                <label for="range-grid-size" class="form-label"><i class="fa-solid fa-border-none me-2"></i>Grid
                    Size: 50</label>
                <input type="range" id="range-grid-size" min="1" max="150" step="1" value="50"
                    style="width: 149px !important;">
                <div class="mt-3">
                    <div class="grid-indicator" style="display: none; width: 50px; height: 50px;">

                    </div>
                </div>
            </div>
            <div id="spell-ruler" class="form-group mb-3">
                <label for="spell-ruler"><i class="fa-solid fa-ruler me-2"></i>Spell Ruler</label>
                <div class="row mt-1">
                    <div class="col d-inline-flex align-items-center">
                        <input class="btn-check" type="checkbox" id="checkbox-spell-line" value="line">
                        <label class="btn btn-outline-secondary btn-sm no-focus me-1" for="checkbox-spell-line">
                            <i class="fa-solid fa-minus"></i>
                        </label>
                        <input class="btn-check" type="checkbox" id="checkbox-spell-square" value="square">
                        <label class="btn btn-outline-secondary btn-sm no-focus me-1" for="checkbox-spell-square">
                            <i class="fa-solid fa-square"></i>
                        </label>
                        <input class="btn-check" type="checkbox" id="checkbox-spell-circle" value="circle">
                        <label class="btn btn-outline-secondary btn-sm no-focus me-1" for="checkbox-spell-circle">
                            <i class="fa-solid fa-circle"></i>
                        </label>
                        <input class="btn-check" type="checkbox" id="checkbox-spell-cone" value="cone">
                        <label class="btn btn-outline-secondary btn-sm no-focus me-1" for="checkbox-spell-cone">
                            <i class="fa-solid fa-play"></i>
                        </label>
                        <div class="form-group d-inline-flex align-items-center">
                            <div class="col-4">
                                <input class="form-control form-control-sm" style="display: none;" type="number"
                                    id="input-spell-size" value="20">
                            </div>

                            <label class="col-8 col-form-label py-0" for="input-spell-size"
                                style="display: none;">ft</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="scene-list"><i class="fa-regular fa-map me-2"></i>Scenes</label>
                <div id="scene-list" class="row row-cols-3 gy-2">
                    <div class="col d-flex justify-content-center align-items-center"><button id="btn-add-scene" class="btn btn-primary btn-round"><i class="fa-solid fa-plus"></i></button></div>
                </div>
            </div>
            <div class="form-group my-4">
                <button id="btn-delete-scene" class="d-none btn btn-danger btn-sm">Delete Current Scene</button>
                <button id="btn-reset-pieces" class="d-none btn btn-danger btn-sm">Delete Game Pieces</button>
            </div>
            <div id="section-party-menu" class="my-4">
                <h4><i class="fa-solid fa-users me-2"></i>Party</h4>
                <div class="form-group mb-3">
                    <label for="input-invite-link">Invite Link</label>
                    <div class="input-group mb-3">
                        <input id="input-invite-link" disabled type="text" class="form-control form-control-sm">
                        <button id="btn-copy-invite-link" class="btn btn-secondary" type="button"
                            data-bs-toggle="popover" data-bs-content="Copied!">Copy</button>
                    </div>
                </div>
                <div class="form-group my-3">
                    <div>Permissions</div>
                    <label for="permissions-own-pieces">Players can only move their own pieces: </label>
                    <input class="form-check-input" type="checkbox" value="false" id="permissions-own-pieces">
                </div>
                <span style="display: block;" id="empty-party-msg"><em>No one's here yet</em></span>
                <ul class="list-group" id="list-connected-party-members"></ul>
            </div>
        </div>
        <div>
            <a class="btn btn-secondary menu-btn" data-bs-toggle="offcanvas" href="#main-menu" role="button"
                style="position: relative; left: 399px;" aria-controls="main-menu">
                <i class="fa-solid fa-gear"></i>
            </a>
        </div>
    </div>
    <div class="offcanvas offcanvas-end" tabindex="-1" id="piece-menu" aria-labelledby="piece-menu-header">
        <div class="offcanvas-body">
            <div class="form-group text-center my-2">
                <img id="piece-menu-image" style="width: 65%;" />
                <div class="text-center mt-2">
                    <input id="piece-menu-image-input" type="file" />
                </div>
            </div>
            <div class="form-group mb-3">
                <label for="piece-menu-name">Name</label>
                <input id="piece-menu-name" class="form-control" />
            </div>
            <div class="form-group mb-3">
                <label>Size</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="radio-piece-menu-size" value="0.5">
                    <label class="form-check-label">
                        Tiny (&half; by &half;)
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="radio-piece-menu-size" value="0.9">
                    <label class="form-check-label">
                        Small (他 by 他)
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="radio-piece-menu-size" value="1">
                    <label class="form-check-label">
                        Medium (1 by 1)
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="radio-piece-menu-size" value="2">
                    <label class="form-check-label">
                        Large (2 by 2)
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="radio-piece-menu-size" value="3">
                    <label class="form-check-label">
                        Huge (3 by 3)
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="radio-piece-menu-size" value="4">
                    <label class="form-check-label">
                        Gargantuan (4 by 4)
                    </label>
                </div>
            </div>
            <div class="form-group">
                <label for="piece-menu-status-conditions">Status Conditions</label>
                <input class="form-control" id="piece-menu-status-conditions" data-role="tagsinput" />
            </div>
            <div class="form-group mb-3">
                <label for="piece-menu-dead">Dead?</label>
                <input class="form-check-input" type="checkbox" value="false" id="piece-menu-dead">
            </div>

            <button id="btn-update-piece" class="btn btn-primary">Save</button>
            <button id="btn-delete-piece" class="btn btn-danger">Delete</button>

        </div>
    </div>
    <!-- Modals -->
    <div class="modal" id="modal-piece" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add New Game Piece</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="form-modal-piece">
                        <div class="mb-3">
                            <label class="form-label" for="#input-piece-name">Name</label>
                            <input id="input-piece-name" class="form-control" type="text" />
                        </div>
                        <div class="mb-3">
                            <label for="#input-piece-art" class="form-label">Image</label>
                            <input id="input-piece-art" type="file" />
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="radio-piece-size"
                                id="radio-piece-size-ty" value="0.5">
                            <label class="form-check-label" for="radio-piece-size-ty">
                                Tiny (&half; by &half;)
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="radio-piece-size"
                                id="radio-piece-size-sm" value="0.9">
                            <label class="form-check-label" for="radio-piece-size-sm">
                                Small (他 by 他)
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="radio-piece-size"
                                id="radio-piece-size-md" value="1" checked>
                            <label class="form-check-label" for="radio-piece-size-md">
                                Medium (1 by 1)
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="radio-piece-size"
                                id="radio-piece-size-lg" value="2">
                            <label class="form-check-label" for="radio-piece-size-lg">
                                Large (2 by 2)
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="radio-piece-size"
                                id="radio-piece-size-hg" value="3">
                            <label class="form-check-label" for="radio-piece-size-hg">
                                Huge (3 by 3)
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="radio-piece-size"
                                id="radio-piece-size-ga" value="4">
                            <label class="form-check-label" for="radio-piece-size-ga">
                                Gargantuan (4 by 4)
                            </label>
                        </div>
                        <div id="modal-piece-quick-add" class="form-group row d-none">
                            <span>Quick Add: </span>
                            <div class="col quick-add">
                                <img src="img/orc.png" style="width: 100%"></img>
                            </div>
                            <div class="col quick-add">
                                <img src="img/moonbeam.png" style="width: 100%"></img>
                            </div>
                            <div class="col quick-add">
                                <img src="img/firewall.png" style="width: 100%"></img>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="btn-modal-piece-ok">Accept</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="modal-bg" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Set Background</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="form-modal-bg">
                        <h3>Background Type:</h3>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="radio-bg-type" id="radio-bg-image"
                                value="image" checked>
                            <label class="form-check-label" for="radio-bg-image">
                                Image
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="radio-bg-type" id="radio-bg-video"
                                value="video">
                            <label class="form-check-label" for="radio-bg-video">
                                Video
                            </label>
                        </div>
                        <div class="mb-3" style="display: none;">
                            <label class="form-label" for="#input-bg-video">Video Link</label>
                            <input id="input-bg-video" class="form-control" type="url" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="#input-bg-image">Background Image</label>
                            <input id="input-bg-image" type="file" />
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="btn-modal-bg-ok">Accept</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="modal-player" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <form id="form-modal-player">
                        <div class="mb-3">
                            <label class="form-label" for="input-player-name">What do you go by?</label>
                            <input id="input-player-name" class="form-control" type="text" />
                        </div>
                        <div class="text-center">
                            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Enter</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- Pre loaded images -->
    <div style="display: none;">
        <img id="image-dead" src="img/dead.png" />
    </div>
</body>

</html>